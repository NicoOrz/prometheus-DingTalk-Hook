{{- $p := .Payload -}}
{{- $status := $p.Status | default "unknown" -}}
{{- if eq $status "firing" -}}
### ðŸ”¥ å‘Šè­¦è§¦å‘ï¼ˆ{{ .FiringCount }}ï¼‰
{{- else if eq $status "resolved" -}}
### âœ… å‘Šè­¦æ¢å¤ï¼ˆ{{ .ResolvedCount }}ï¼‰
{{- else -}}
### â„¹ï¸ å‘Šè­¦é€šçŸ¥ï¼ˆ{{ len $p.Alerts }}ï¼‰
{{- end }}

- Receiver: `{{ $p.Receiver | default "unknown" }}`
- Status: `{{ $p.Status | default "unknown" }}`
{{- if $p.ExternalURL }}
- Alertmanager: {{ $p.ExternalURL }}
{{- end }}

{{- if $p.GroupLabels }}
- GroupLabels: `{{ kv $p.GroupLabels }}`
{{- end }}
{{- if $p.CommonLabels }}
- CommonLabels: `{{ kv $p.CommonLabels }}`
{{- end }}

{{- range $i, $a := $p.Alerts }}

---
**{{ index $a.Labels "alertname" | default "alert" }}** (`{{ $a.Status | default "unknown" }}`)

{{- $summary := index $a.Annotations "summary" | default "" -}}
{{- if $summary }}
> {{ $summary }}
{{- end }}

{{- $description := index $a.Annotations "description" | default "" -}}
{{- if $description }}
> {{ $description }}
{{- end }}

{{- if $a.Labels }}
- Labels: `{{ kv $a.Labels }}`
{{- end }}
{{- if $a.Annotations }}
- Annotations: `{{ kv $a.Annotations }}`
{{- end }}
{{- if $a.GeneratorURL }}
- GeneratorURL: {{ $a.GeneratorURL }}
{{- end }}
{{- end }}
